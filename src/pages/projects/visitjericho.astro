---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Card from "../../components/Card.astro";
import Anchor from "../../components/Anchor.astro";
import { Image } from "astro:assets";
import visitjerichothumbnail from "../../images/visitjerichothumbnail.jpg";
---

<BaseLayout title="Visit Jericho | Monika Dybalska">
  <main>
    <div>
      <h1>Visit Jericho</h1>
      <p class="label">Beta</p>
    </div>
    <section class="cols">
      <div class="col">
        <p>
          Visit Jericho is a travel guide website for the city of Jericho,
          developed on the request of the non-governmental organisation Mosaic
          Centre Jericho. I designed and built this website from scratch using
          Next.js, TailwindCSS, GraphQL, and WordPress.
        </p>
        <div class="summary-sections">
          <Card variant="outlined">
            <h2 slot="title" class="card-title">Stack</h2>
            <ul slot="description">
              <li class="nextjs">Next.js</li>
              <li class="tailwindcss">Tailwind CSS</li>
              <li class="graphql">GraphQL</li>
            </ul>
          </Card>
          <Card variant="outlined">
            <h2 slot="title" class="card-title">Categories</h2>
            <ul slot="description">
              <li>Non-profit</li>
              <li>Web deveopment</li>
              <li>Web design</li>
            </ul>
          </Card>
        </div>
        <div class="summary-sections">
          <div class="link-container end">
            <Anchor
              text="View live site"
              href="https://beta.visitjericho.com"
              variant="primary"
            />
          </div>
          <div class="link-container">
            <Anchor
              text="View source code"
              href="https://github.com/monikadybalska/visitjericho"
              variant="secondary"
            />
          </div>
        </div>
      </div>
      <Image
        src={visitjerichothumbnail}
        class="main-image"
        alt="A screenshot of the Visit Jericho website homepage"
        widths={[644, 966]}
        sizes="(max-width: 700px) 644px, 966px"
        width="644"
        format="webp"
        loading="lazy"
      />
    </section>
    <section>
      <h2>Background and goals</h2>
      <p>
        When I came across Mosaic Centre Jericho's project brief on the Tech To
        The Rescue website, I got excited about the possibility of helping a
        passionate travel guide promote his city. Since Mosaic Centre Jericho
        created the content, I had full control over the design and development
        process and I wanted to make sure that the site balanced a modern feel
        for the users with the familiarity and ease of use for the website
        administrators. In short, I had three main goals in mind:
      </p>
      <ul>
        <li>
          Speed, performance, and SEO optimisation to provide the best user
          experience
        </li>
        <li>Headless CMS for the best performance and flexibility</li>
        <li>
          WordPress integration to allow the organisation to easily update the
          website in their familiar WordPress environment
        </li>
      </ul>
    </section>
    <section>
      <h2>Tech stack</h2>
      <div class="cols">
        <div>
          <div class="tech-stack-category">
            <h3>Frontend</h3>
            <img
              src="/nextjs-white.svg"
              alt="Next.js logo"
              title="Next.js"
              class="logo"
            />
          </div>
          <div class="tech-stack-category">
            <h3>Styling</h3>
            <img
              src="/tailwindcss-white.svg"
              alt="Tailwind CSS logo"
              title="Tailwind CSS"
              class="logo"
            />
          </div>
          <div class="tech-stack-category">
            <h3>Data</h3>
            <img
              src="/graphql-white.svg"
              alt="GraphQL logo"
              title="GraphQL"
              class="logo small"
            />
          </div>
          <div class="tech-stack-category">
            <h3>Testing</h3>
            <div>
              <img
                src="/jest.svg"
                alt="Jest logo"
                title="Jest"
                class="logo small"
              />
              <img
                src="/playwright.svg"
                alt="Playwright logo"
                title="Playwright"
                class="logo small"
              />
            </div>
          </div>
          <div class="tech-stack-category">
            <h3>CI/CD</h3>
            <img
              src="/github-white.png"
              alt="GitHub logo"
              title="GitHub"
              class="logo small"
            />
          </div>
          <div class="tech-stack-category">
            <h3>Deployment</h3>
            <img
              src="/netlify.svg"
              alt="Netlify logo"
              title="Netlify"
              class="logo small"
            />
          </div>
          <div class="tech-stack-category">
            <h3>Media optimisation</h3>
            <div class="logos">
              <img
                src="/aws-white.svg"
                alt="AWS Cloud logo"
                title="AWS Cloud"
                class="logo-icon"
              />
              <img
                src="/cloudfront.svg"
                alt="Amazon Cloudfront logo"
                title="Amazon Cloudfront"
                class="logo-icon"
              />
              <img
                src="/s3.svg"
                alt="Amazon S3 logo"
                title="Amazon S3"
                class="logo-icon"
              />
            </div>
          </div>
          <div class="tech-stack-category">
            <h3>Hosting</h3>
            <div class="logos">
              <img
                src="/aws-white.svg"
                alt="AWS Cloud logo"
                title="AWS Cloud"
                class="logo-icon"
              />
              <img
                src="/lightsail.svg"
                alt="Amazon Lightsail logo"
                title="Amazon Lightsail"
                class="logo-icon"
              />
            </div>
          </div>
        </div>
        <div class="col">
          <p>
            To meet the project goals, I had to settle on a modern and reliable
            tech stack. WordPress as the CMS was a given, so I began a search
            for a compatible frontend/fullstack framework. With the Next.js App
            Router, I was able easily fetch the CMS data with GraphQL, while
            optimising performance.
          </p>
          <p>
            As for the design, Tailwind CSS made styling both quick and
            consistent and worked seamlessly with component libraries such as
            Material Tailwind or Radix UI.
          </p>
          <p>
            To test my code, I used Jest for unit testing (aside from the
            not-yet-supported server components) and Playwright for E2E testing.
            I also chose GitHub and GitHub actions for CI/CD, which allowed me
            to introduce feature branches and run tests on commits.
          </p>
          <p>
            Netlify's integration with Next.js made deployment a breeze, and
            Amazon Lightsail allowed us to link our WordPress instance in
            minutes. To further optimise media, we also used Amazon Cloudfront
            and S3.
          </p>
        </div>
      </div>
    </section>
    <section>
      <h2>Challenges</h2>
      <div class="cols">
        <div class="col">
          <h3>Code organisation</h3>
          <p>
            As for code organisation, I prioritised clarity and reusability. I
            used the Material Tailwind component library to ensure consistency.
            Since I needed to make some tweaks to meet the specific needs of the
            design, I created component directories with varying scopes next to
            my Next.js route directories.
          </p>
        </div>
        <div class="col">
          <h3>Integrating different technologies</h3>
          <p>
            Some of the services we initially considered due to competetive
            pricing had not yet introduced full integration with RSC and the App
            Router. To take advantage of Netlify's uniquely amazing integration
            without sacrificing cost-efficiency, I lowered the cost on the
            deployment side by pre-optimising images with Amazon Cloudfront and
            S3.
          </p>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<style>
  main {
    padding: 5rem 15rem 5rem 15rem;
    display: flex;
    flex-direction: column;
    gap: 3rem;
    min-height: fit-content;
  }

  section {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  h2 {
    width: 100%;
    text-align: center;
    font-size: 2rem;
  }

  .cols {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 3rem;
  }

  .col {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .label {
    font-size: 1rem;
  }

  .summary-sections {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  .card-title {
    font-family: "Drogowskaz";
    font-size: 1.17rem;
    text-align: center;
    width: 100%;
  }

  ul {
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    width: fit-content;
  }

  li {
    list-style-type: square;
    list-style-position: inside;
  }

  .challenges-images {
    container-type: size;
  }

  .challenges-image {
    position: absolute;
  }

  .main-image {
    border: solid black 1px;
    max-width: 100%;
    max-height: 621.75px;
    box-sizing: border-box;
  }

  #organisation {
    width: 150px;
    z-index: 50;
    border-radius: 0.5rem;
  }

  #components {
    top: 20%;
    left: 20%;
    width: 400px;
  }

  .link-container {
    display: flex;
  }

  .link-container.end {
    justify-content: end;
  }

  .icon {
    width: 6rem;
    max-width: 100px;
    filter: drop-shadow(10px 10px 4px rgb(89, 89, 89));
  }

  .tech-stack-category {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: black;
    color: white;
    padding: 0.5rem;
    border: 1px solid #61dafb;
  }

  .logos {
    display: flex;
    justify-content: end;
  }

  .logo {
    max-height: 15px;
    height: 2rem;
  }

  .logo-icon {
    border-radius: 50%;
    width: 35px;
  }

  .logo.small {
    max-height: 30px;
  }

  .nextjs::marker {
    color: black;
  }

  .tailwindcss::marker {
    color: #38bdf8;
  }

  .graphql::marker {
    color: #f6009b;
  }

  .wordpress::marker {
    color: #585c60;
  }

  @media screen and (max-width: 1300px) {
    main {
      padding: 3rem 3rem 3rem 3rem;
    }
  }

  @media screen and (max-width: 700px) {
    main {
      padding: 3rem 1rem 3rem 1rem;
    }

    .cols {
      display: flex;
      flex-direction: column-reverse;
    }
  }
</style>
